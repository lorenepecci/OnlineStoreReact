{"ast":null,"code":"var _jsxFileName = \"/home/lorene/Trybe/MeusProjetosPessoais/store/src/pages/Cart.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CartProductListing from '../components/CartProductListing';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor() {\n    super();\n\n    this.quantityChange = (product, counterChange) => {\n      const {\n        cartList\n      } = this.state;\n      const index = cartList.reduce((acc, curr, currIndex) => {\n        if (curr.product.id === product.id) {\n          return currIndex;\n        }\n\n        return acc;\n      }, '');\n\n      switch (counterChange) {\n        case 'increase':\n          cartList[index].quantity += 1;\n          break;\n\n        case 'decrease':\n          cartList[index].quantity -= 1;\n\n          if (cartList[index].quantity < 1) {\n            cartList.splice(index, 1);\n          }\n\n          break;\n\n        case 'remove':\n          cartList.splice(index, 1);\n          break;\n\n        default:\n      }\n\n      this.setState({\n        cartList\n      });\n    };\n\n    const cart = JSON.parse(localStorage.getItem('cartTrybe'));\n    this.state = {\n      cartList: cart\n    };\n  }\n\n  componentDidUpdate() {\n    const {\n      cartList\n    } = this.state;\n    localStorage.setItem('cartTrybe', JSON.stringify(cartList));\n  }\n\n  render() {\n    const {\n      cartList\n    } = this.state;\n    const empty = cartList.length === 0;\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), empty ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        \"data-testid\": \"shopping-cart-empty-message\",\n        children: \"Seu carrinho est\\xE1 vazio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(CartProductListing, {\n          cartList: cartList,\n          quantityChange: this.quantityChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/checkout\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"data-testid\": \"checkout-products\",\n            children: \"Finalizar compra\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/home/lorene/Trybe/MeusProjetosPessoais/store/src/pages/Cart.js"],"names":["React","Component","Link","CartProductListing","Cart","constructor","quantityChange","product","counterChange","cartList","state","index","reduce","acc","curr","currIndex","id","quantity","splice","setState","cart","JSON","parse","localStorage","getItem","componentDidUpdate","setItem","stringify","render","empty","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,kBAAP,MAA+B,kCAA/B;;;;AAEA,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AAC3BI,EAAAA,WAAW,GAAG;AACZ;;AADY,SAcdC,cAdc,GAcG,CAACC,OAAD,EAAUC,aAAV,KAA4B;AAC3C,YAAM;AAAEC,QAAAA;AAAF,UAAe,KAAKC,KAA1B;AACA,YAAMC,KAAK,GAAGF,QAAQ,CAACG,MAAT,CAAgB,CAACC,GAAD,EAAMC,IAAN,EAAYC,SAAZ,KAA0B;AACtD,YAAID,IAAI,CAACP,OAAL,CAAaS,EAAb,KAAoBT,OAAO,CAACS,EAAhC,EAAoC;AAAE,iBAAOD,SAAP;AAAmB;;AACzD,eAAOF,GAAP;AACD,OAHa,EAGX,EAHW,CAAd;;AAIA,cAAQL,aAAR;AACA,aAAK,UAAL;AACEC,UAAAA,QAAQ,CAACE,KAAD,CAAR,CAAgBM,QAAhB,IAA4B,CAA5B;AACA;;AACF,aAAK,UAAL;AACER,UAAAA,QAAQ,CAACE,KAAD,CAAR,CAAgBM,QAAhB,IAA4B,CAA5B;;AACA,cAAIR,QAAQ,CAACE,KAAD,CAAR,CAAgBM,QAAhB,GAA2B,CAA/B,EAAkC;AAAER,YAAAA,QAAQ,CAACS,MAAT,CAAgBP,KAAhB,EAAuB,CAAvB;AAA4B;;AAChE;;AACF,aAAK,QAAL;AACEF,UAAAA,QAAQ,CAACS,MAAT,CAAgBP,KAAhB,EAAuB,CAAvB;AACA;;AACF;AAXA;;AAaA,WAAKQ,QAAL,CAAc;AACZV,QAAAA;AADY,OAAd;AAGD,KApCa;;AAGZ,UAAMW,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAb;AACA,SAAKd,KAAL,GAAa;AACXD,MAAAA,QAAQ,EAAEW;AADC,KAAb;AAGD;;AAEDK,EAAAA,kBAAkB,GAAG;AACnB,UAAM;AAAEhB,MAAAA;AAAF,QAAe,KAAKC,KAA1B;AACAa,IAAAA,YAAY,CAACG,OAAb,CAAqB,WAArB,EAAkCL,IAAI,CAACM,SAAL,CAAelB,QAAf,CAAlC;AACD;;AA0BDmB,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEnB,MAAAA;AAAF,QAAe,KAAKC,KAA1B;AACA,UAAMmB,KAAK,GAAGpB,QAAQ,CAACqB,MAAT,KAAoB,CAAlC;AACA,wBACE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEGD,KAAK,gBAEF;AAAI,uBAAY,6BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFE,gBAOF;AAAA,gCACE,QAAC,kBAAD;AACE,UAAA,QAAQ,EAAGpB,QADb;AAEE,UAAA,cAAc,EAAG,KAAKH;AAFxB;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,WAAT;AAAA,iCACE;AACE,YAAA,IAAI,EAAC,QADP;AAEE,2BAAY,mBAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA,sBATN;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA2BD;;AArE0B;;AAwE7B,eAAeF,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CartProductListing from '../components/CartProductListing';\n\nclass Cart extends Component {\n  constructor() {\n    super();\n\n    const cart = JSON.parse(localStorage.getItem('cartTrybe'));\n    this.state = {\n      cartList: cart,\n    };\n  }\n\n  componentDidUpdate() {\n    const { cartList } = this.state;\n    localStorage.setItem('cartTrybe', JSON.stringify(cartList));\n  }\n\n  quantityChange = (product, counterChange) => {\n    const { cartList } = this.state;\n    const index = cartList.reduce((acc, curr, currIndex) => {\n      if (curr.product.id === product.id) { return currIndex; }\n      return acc;\n    }, '');\n    switch (counterChange) {\n    case 'increase':\n      cartList[index].quantity += 1;\n      break;\n    case 'decrease':\n      cartList[index].quantity -= 1;\n      if (cartList[index].quantity < 1) { cartList.splice(index, 1); }\n      break;\n    case 'remove':\n      cartList.splice(index, 1);\n      break;\n    default:\n    }\n    this.setState({\n      cartList,\n    });\n  }\n\n  render() {\n    const { cartList } = this.state;\n    const empty = cartList.length === 0;\n    return (\n      <main>\n        <h1>Cart</h1>\n        {empty\n          ? (\n            <h3 data-testid=\"shopping-cart-empty-message\">\n              Seu carrinho est√° vazio\n            </h3>\n          )\n          : (\n            <>\n              <CartProductListing\n                cartList={ cartList }\n                quantityChange={ this.quantityChange }\n              />\n              <Link to=\"/checkout\">\n                <button\n                  type=\"button\"\n                  data-testid=\"checkout-products\"\n                >\n                  Finalizar compra\n                </button>\n              </Link>\n            </>\n          )}\n      </main>\n    );\n  }\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}