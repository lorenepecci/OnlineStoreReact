{"ast":null,"code":"var _jsxFileName = \"/home/lorene/Trybe/MeusProjetosPessoais/onlineStore/projectOnlineStore/src/pages/DetailedProduct.js\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Alert, Col, Navbar, NavbarBrand, Row } from \"reactstrap\";\nimport CartButton from \"../components/CartButton\";\nimport PreviousReviews from \"../components/PreviousReviews\";\nimport magasin from \"../images/Magasin.png\";\nimport { getProductsID } from \"../services/api\";\n\nclass DetailedProduct extends React.Component {\n  constructor() {\n    super();\n\n    this.getProductAvaliation = id => {\n      const userAvaliationList = JSON.parse(localStorage.getItem(\"userAvaliationList\"));\n      const objProductID = userAvaliationList.find(avaliationObj => avaliationObj.id === id);\n\n      if (objProductID) {\n        this.setState({\n          listProductID: objProductID.avaliation\n        });\n      }\n    };\n\n    this.onSubmitSearch = async id => {\n      const productData = await getProductsID(id);\n      const imge = productData.thumbnail.replace('I', 'W');\n      this.setState({\n        productData,\n        arrayAttributes: productData.attributes,\n        img: imge\n      });\n      console.log(productData);\n    };\n\n    this.handleClick = product => {\n      const cart = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n\n      if (cart.some(cartItem => cartItem.product.id === product.id)) {\n        cart.forEach((cartItem, index) => {\n          if (cartItem.product.id === product.id) {\n            cart[index].quantity += 1;\n          }\n        });\n      } else {\n        cart.push({\n          product,\n          quantity: 1\n        });\n      }\n\n      localStorage.setItem(\"cartTrybe\", JSON.stringify(cart));\n      this.setState({\n        success: true\n      });\n      this.cartQuantityChange();\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: [value]\n      });\n    };\n\n    this.onClickForm = () => {\n      const {\n        match: {\n          params: {\n            id\n          }\n        }\n      } = this.props;\n      const {\n        email,\n        textarea,\n        stars\n      } = this.state;\n      const userAvaliationList = JSON.parse(localStorage.getItem(\"userAvaliationList\"));\n      const objAvaliation = {\n        email,\n        textarea,\n        stars\n      };\n      const objDoLocalstorage = {\n        id,\n        avaliation: [objAvaliation]\n      };\n\n      if (!userAvaliationList) {\n        userAvaliationList.push(objDoLocalstorage);\n      } else if (userAvaliationList.some(avaliation => avaliation.id === id)) {\n        userAvaliationList.forEach((avaliationObj, index) => {\n          if (avaliationObj.id === id) {\n            userAvaliationList[index].avaliation.push(objAvaliation);\n          }\n        });\n      } else {\n        userAvaliationList.push(objDoLocalstorage);\n      }\n\n      localStorage.setItem(\"userAvaliationList\", JSON.stringify(userAvaliationList));\n      this.getProductAvaliation(id);\n      this.setState({\n        email: \"\",\n        textarea: \"\",\n        stars: 0\n      });\n    };\n\n    const cartItems = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n    this.state = {\n      productData: {},\n      img: '',\n      arrayAttributes: [],\n      email: \"\",\n      textarea: \"\",\n      stars: 0,\n      listProductID: [],\n      success: false,\n      cartQuantity: cartItems.reduce((sum, _ref2) => {\n        let {\n          quantity\n        } = _ref2;\n        return sum + quantity;\n      }, 0)\n    };\n    this.cartQuantityChange = this.cartQuantityChange.bind(this);\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    const {\n      match: {\n        params: {\n          id\n        }\n      }\n    } = this.props;\n    this.onSubmitSearch(id);\n    this.getProductAvaliation(id);\n  }\n\n  cartQuantityChange() {\n    this.setState(_ref3 => {\n      let {\n        cartQuantity: oldCartQuantity\n      } = _ref3;\n      return {\n        cartQuantity: oldCartQuantity + 1\n      };\n    });\n  }\n\n  render() {\n    const {\n      productData,\n      img,\n      arrayAttributes,\n      email,\n      textarea,\n      listProductID,\n      cartQuantity,\n      success\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      className: \"navbar\",\n      color: \"white\",\n      expand: \"md\",\n      light: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavbarBrand, {\n      className: \"brand\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: magasin,\n      alt: \"magasin-logo\",\n      width: \"200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(CartButton, {\n      cartQuantity: cartQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"jumbotron jumbotron-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      class: \"display-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, \"Especifica\\xE7\\xF5es T\\xE9cnicas \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      className: \"bg-info border\",\n      sm: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container1-detailedProduct\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: img,\n      width: \"300\",\n      heigth: \"300\",\n      alt: productData.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, \"R$:\", productData.price), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-dark\",\n      onClick: () => this.handleClick(productData),\n      id: productData.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }, \"Adicionar ao Carrinho\"), success && /*#__PURE__*/React.createElement(Alert, {\n      color: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 33\n      }\n    }, \"Adicionado com Sucesso! Veja no Carrrinho!\"))), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      className: \" border\",\n      sm: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"justo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, productData.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"especificacoes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, arrayAttributes.map((atribute, index) => /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, atribute.name, \":\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 67\n      }\n    }, atribute.value_name)))))))), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"avaliation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"justo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }\n    }, \"Deixe sua Avalia\\xE7\\xE3o do Produto\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Email\",\n      class: \"form-control\",\n      id: \"input1\",\n      value: email,\n      name: \"email\",\n      type: \"text\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" spaceBotton star-rating__stars\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"1-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 1,\n      \"data-testid\": \"1-rating\",\n      id: \"1-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"2-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 2,\n      \"data-testid\": \"2-rating\",\n      id: \"2-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"3-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 3,\n      \"data-testid\": \"3-rating\",\n      id: \"3-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"4-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 4,\n      \"data-testid\": \"4-rating\",\n      id: \"4-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"5-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 5,\n      \"data-testid\": \"5-rating\",\n      id: \"5-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      placeholder: \"Mensagem (opcional)\",\n      class: \"form-control\",\n      name: \"textarea\",\n      value: textarea,\n      onChange: this.handleChange,\n      rows: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-info\",\n      type: \"button\",\n      disabled: this.validateForm,\n      onClick: this.onClickForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }\n    }, \"Avaliar\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(PreviousReviews, {\n      list: listProductID,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nDetailedProduct.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired\n    })\n  }).isRequired\n};\nexport default DetailedProduct;","map":{"version":3,"sources":["/home/lorene/Trybe/MeusProjetosPessoais/onlineStore/projectOnlineStore/src/pages/DetailedProduct.js"],"names":["PropTypes","React","Alert","Col","Navbar","NavbarBrand","Row","CartButton","PreviousReviews","magasin","getProductsID","DetailedProduct","Component","constructor","getProductAvaliation","id","userAvaliationList","JSON","parse","localStorage","getItem","objProductID","find","avaliationObj","setState","listProductID","avaliation","onSubmitSearch","productData","imge","thumbnail","replace","arrayAttributes","attributes","img","console","log","handleClick","product","cart","some","cartItem","forEach","index","quantity","push","setItem","stringify","success","cartQuantityChange","handleChange","target","name","value","onClickForm","match","params","props","email","textarea","stars","state","objAvaliation","objDoLocalstorage","cartItems","cartQuantity","reduce","sum","bind","componentDidMount","window","scrollTo","oldCartQuantity","render","price","title","map","atribute","value_name","validateForm","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Alert, Col, Navbar, NavbarBrand, Row } from \"reactstrap\";\nimport CartButton from \"../components/CartButton\";\nimport PreviousReviews from \"../components/PreviousReviews\";\nimport magasin from \"../images/Magasin.png\";\nimport { getProductsID } from \"../services/api\";\n\nclass DetailedProduct extends React.Component {\n  constructor() {\n    super();\n    const cartItems = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n    this.state = {\n      productData: {},\n      img:'',\n      arrayAttributes: [],\n      email: \"\",\n      textarea: \"\",\n      stars: 0,\n      listProductID: [],\n      success:false,\n      cartQuantity: cartItems.reduce((sum, { quantity }) => sum + quantity, 0),\n    };\n    this.cartQuantityChange = this.cartQuantityChange.bind(this);\n  }\n \n  componentDidMount () {\n    window.scrollTo( 0, 0 );\n    const {\n      match: {\n        params: { id },\n      },\n    } = this.props;\n    this.onSubmitSearch(id);\n    this.getProductAvaliation(id);\n  }\n\n  getProductAvaliation = (id) => {\n    const userAvaliationList = JSON.parse(\n      localStorage.getItem(\"userAvaliationList\")\n    );\n    const objProductID = userAvaliationList.find(\n      (avaliationObj) => avaliationObj.id === id\n    );\n    if (objProductID) {\n      this.setState({\n        listProductID: objProductID.avaliation,\n      });\n    }\n  };\n\n  onSubmitSearch = async (id) => {\n    const productData = await getProductsID( id );\n    const imge = productData.thumbnail.replace( 'I', 'W' );\n    this.setState( { productData, arrayAttributes: productData.attributes , img:imge} );\n    console.log(productData)\n  };\n\n  handleClick = (product) => {\n    const cart = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n    if (cart.some((cartItem) => cartItem.product.id === product.id)) {\n      cart.forEach((cartItem, index) => {\n        if (cartItem.product.id === product.id) {\n          cart[index].quantity += 1;\n        }\n      });\n    } else {\n      cart.push({ product, quantity: 1 });\n    }\n    localStorage.setItem( \"cartTrybe\", JSON.stringify( cart ) );\n    this.setState({ success: true })\n    this.cartQuantityChange();\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: [value] });\n  };\n\n  onClickForm = () => {\n    const {\n      match: {\n        params: { id },\n      },\n    } = this.props;\n    const { email, textarea, stars } = this.state;\n    const userAvaliationList = JSON.parse(\n      localStorage.getItem(\"userAvaliationList\")\n    );\n    const objAvaliation = { email, textarea, stars };\n    const objDoLocalstorage = { id, avaliation: [objAvaliation] };\n    if (!userAvaliationList) {\n      userAvaliationList.push(objDoLocalstorage);\n    } else if (userAvaliationList.some((avaliation) => avaliation.id === id)) {\n      userAvaliationList.forEach((avaliationObj, index) => {\n        if (avaliationObj.id === id) {\n          userAvaliationList[index].avaliation.push(objAvaliation);\n        }\n      });\n    } else {\n      userAvaliationList.push(objDoLocalstorage);\n    }\n    localStorage.setItem(\n      \"userAvaliationList\",\n      JSON.stringify(userAvaliationList)\n    );\n    this.getProductAvaliation(id);\n    this.setState({ email: \"\", textarea: \"\", stars: 0 });\n  };\n\n  cartQuantityChange() {\n    this.setState(({ cartQuantity: oldCartQuantity }) => ({\n      cartQuantity: oldCartQuantity + 1,\n    }));\n  }\n\n  render() {\n    const {\n      productData,\n      img,\n      arrayAttributes,\n      email,\n      textarea,\n      listProductID,\n      cartQuantity,\n      success\n    } = this.state;\n    return (\n      <div>\n        <Navbar className=\"navbar\" color=\"white\" expand=\"md\" light>\n          <NavbarBrand className=\"brand\" href=\"/\">\n            <img src={magasin} alt=\"magasin-logo\" width=\"200\" />\n          </NavbarBrand>\n          <CartButton cartQuantity={cartQuantity} />\n        </Navbar>\n        <div class=\"jumbotron jumbotron-fluid\">\n          <div class=\"container\">\n            <h2 class=\"display-4\">Especificações Técnicas </h2>\n            <br/>\n            <Row>\n              <Col xs={ 6 } className=\"bg-info border\" sm=\"6\">\n              <div className=\"container1-detailedProduct\"> \n                <img src={img} width=\"300\" heigth=\"300\" alt={productData.id} />\n                <h2>\n                  R$:\n                  {productData.price}\n                </h2>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-dark\"\n                  onClick={() => this.handleClick(productData)}\n                  id={productData.id}\n                >\n                  Adicionar ao Carrinho\n                  </button>\n                  {(success) && <Alert color=\"success\">\n                      Adicionado com Sucesso! Veja no Carrrinho!\n                    </Alert>}\n              </div>\n              </Col>\n              <Col xs={6} className=\" border\" sm=\"6\">\n            <h3  className=\"justo\">{productData.title}</h3>\n            <div className=\"especificacoes\">\n              {arrayAttributes.map((atribute, index) => (\n                <div key={index}>\n                    <span className=\"bold\">{atribute.name}:</span><span>{atribute.value_name}</span>\n                </div>\n              ))}\n              </div>\n              </Col>\n              </Row>\n          </div>\n        </div>\n\n        \n        <form className=\"avaliation\">\n        <h3 className=\"justo\">Deixe sua Avaliação do Produto</h3>\n        <div class=\"form-group\">\n              <input\n                placeholder=\"Email\"\n                class=\"form-control\"\n                id=\"input1\"\n                value={email}\n                name=\"email\"\n                type=\"text\"\n                onChange={this.handleChange}\n              />\n             \n          </div>\n      \n          <div className=\" spaceBotton star-rating__stars\">\n            <label htmlFor=\"1-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={1}\n                data-testid=\"1-rating\"\n                id=\"1-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"2-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={2}\n                data-testid=\"2-rating\"\n                id=\"2-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"3-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={3}\n                data-testid=\"3-rating\"\n                id=\"3-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"4-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={4}\n                data-testid=\"4-rating\"\n                id=\"4-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"5-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={5}\n                data-testid=\"5-rating\"\n                id=\"5-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n          </div>\n      \n          <div class=\"form-group\">\n          <textarea\n            placeholder=\"Mensagem (opcional)\"\n            class=\"form-control\"\n            name=\"textarea\"\n            value={textarea}\n            onChange={this.handleChange}\n            rows=\"3\"\n          />\n        </div>\n          <button\n            class=\"btn btn-info\"\n            type=\"button\"\n            disabled={this.validateForm}\n            onClick={this.onClickForm}\n          >\n            Avaliar\n          </button>\n          \n        </form>\n        <br />\n        <hr/>\n        <PreviousReviews list={listProductID} />\n      </div>\n    );\n  }\n}\n\nDetailedProduct.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n};\n\nexport default DetailedProduct;\n"]},"metadata":{},"sourceType":"module"}