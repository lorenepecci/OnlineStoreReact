{"ast":null,"code":"var _jsxFileName = \"/home/lorene/Trybe/MeusProjetosPessoais/store/src/pages/DetailedProduct.js\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Navbar, NavbarBrand, Col, Row } from \"reactstrap\";\nimport CartButton from \"../components/CartButton\";\nimport PreviousReviews from \"../components/PreviousReviews\";\nimport magasin from \"../images/Magasin.png\";\nimport { getProductsID } from \"../services/api\";\n\nclass DetailedProduct extends React.Component {\n  constructor() {\n    super();\n\n    this.getProductAvaliation = id => {\n      const userAvaliationList = JSON.parse(localStorage.getItem(\"userAvaliationList\"));\n      const objProductID = userAvaliationList.find(avaliationObj => avaliationObj.id === id);\n\n      if (objProductID) {\n        this.setState({\n          listProductID: objProductID.avaliation\n        });\n      }\n    };\n\n    this.onSubmitSearch = async id => {\n      const productData = await getProductsID(id);\n      this.setState({\n        productData,\n        arrayAttributes: productData.attributes\n      });\n    };\n\n    this.handleClick = product => {\n      const cart = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n\n      if (cart.some(cartItem => cartItem.product.id === product.id)) {\n        cart.forEach((cartItem, index) => {\n          if (cartItem.product.id === product.id) {\n            cart[index].quantity += 1;\n          }\n        });\n      } else {\n        cart.push({\n          product,\n          quantity: 1\n        });\n      }\n\n      localStorage.setItem(\"cartTrybe\", JSON.stringify(cart));\n      this.this.cartQuantityChange();\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: [value]\n      });\n    };\n\n    this.onClickForm = () => {\n      const {\n        match: {\n          params: {\n            id\n          }\n        }\n      } = this.props;\n      const {\n        email,\n        textarea,\n        stars\n      } = this.state;\n      const userAvaliationList = JSON.parse(localStorage.getItem(\"userAvaliationList\"));\n      const objAvaliation = {\n        email,\n        textarea,\n        stars\n      };\n      const objDoLocalstorage = {\n        id,\n        avaliation: [objAvaliation]\n      };\n\n      if (!userAvaliationList) {\n        userAvaliationList.push(objDoLocalstorage);\n      } else if (userAvaliationList.some(avaliation => avaliation.id === id)) {\n        userAvaliationList.forEach((avaliationObj, index) => {\n          if (avaliationObj.id === id) {\n            userAvaliationList[index].avaliation.push(objAvaliation);\n          }\n        });\n      } else {\n        userAvaliationList.push(objDoLocalstorage);\n      }\n\n      localStorage.setItem(\"userAvaliationList\", JSON.stringify(userAvaliationList));\n      this.getProductAvaliation(id);\n      this.setState({\n        email: \"\",\n        textarea: \"\",\n        stars: 0\n      });\n    };\n\n    const cartItems = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n    this.state = {\n      productData: {},\n      arrayAttributes: [],\n      email: \"\",\n      textarea: \"\",\n      stars: 0,\n      listProductID: [],\n      cartQuantity: cartItems.reduce((sum, _ref2) => {\n        let {\n          quantity\n        } = _ref2;\n        return sum + quantity;\n      }, 0)\n    };\n    this.cartQuantityChange = this.cartQuantityChange.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params: {\n          id\n        }\n      }\n    } = this.props;\n    this.onSubmitSearch(id);\n    this.getProductAvaliation(id);\n  }\n\n  cartQuantityChange() {\n    this.setState(_ref3 => {\n      let {\n        cartQuantity: oldCartQuantity\n      } = _ref3;\n      return {\n        cartQuantity: oldCartQuantity + 1\n      };\n    });\n  }\n\n  render() {\n    const {\n      productData,\n      arrayAttributes,\n      email,\n      textarea,\n      listProductID,\n      cartQuantity\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      className: \"navbar\",\n      color: \"white\",\n      expand: \"md\",\n      light: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavbarBrand, {\n      className: \"brand\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: magasin,\n      alt: \"magasin-logo\",\n      width: \"200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(CartButton, {\n      cartQuantity: cartQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"jumbotron jumbotron-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      class: \"display-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, \"Especifica\\xE7\\xF5es T\\xE9cnicas \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      className: \"bg-info border\",\n      sm: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container1-detailedProduct\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: productData.thumbnail,\n      width: \"300\",\n      alt: productData.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, \"R$:\", productData.price), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-dark\",\n      onClick: () => this.handleClick(productData),\n      id: productData.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, \"Adicionar ao Carrinho\"))), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      className: \" border\",\n      sm: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"justo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, productData.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"especificacoes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }, arrayAttributes.map((atribute, index) => /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, atribute.name, \":\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 67\n      }\n    }, atribute.value_name)))))))), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"avaliation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"justo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, \"Deixe sua Avalia\\xE7\\xE3o do Produto\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Email\",\n      class: \"form-control\",\n      id: \"input1\",\n      value: email,\n      name: \"email\",\n      type: \"text\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" spaceBotton star-rating__stars\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"1-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 1,\n      \"data-testid\": \"1-rating\",\n      id: \"1-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"2-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 2,\n      \"data-testid\": \"2-rating\",\n      id: \"2-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"3-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 3,\n      \"data-testid\": \"3-rating\",\n      id: \"3-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"4-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 4,\n      \"data-testid\": \"4-rating\",\n      id: \"4-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"5-rating\",\n      className: \"star-rating__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"star-rating__input\",\n      type: \"radio\",\n      name: \"stars\",\n      value: 5,\n      \"data-testid\": \"5-rating\",\n      id: \"5-rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      placeholder: \"Mensagem (opcional)\",\n      class: \"form-control\",\n      name: \"textarea\",\n      value: textarea,\n      onChange: this.handleChange,\n      rows: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-info\",\n      type: \"button\",\n      disabled: this.validateForm,\n      onClick: this.onClickForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }\n    }, \"Avaliar\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(PreviousReviews, {\n      list: listProductID,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nDetailedProduct.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired\n    })\n  }).isRequired\n};\nexport default DetailedProduct;","map":{"version":3,"sources":["/home/lorene/Trybe/MeusProjetosPessoais/store/src/pages/DetailedProduct.js"],"names":["PropTypes","React","Navbar","NavbarBrand","Col","Row","CartButton","PreviousReviews","magasin","getProductsID","DetailedProduct","Component","constructor","getProductAvaliation","id","userAvaliationList","JSON","parse","localStorage","getItem","objProductID","find","avaliationObj","setState","listProductID","avaliation","onSubmitSearch","productData","arrayAttributes","attributes","handleClick","product","cart","some","cartItem","forEach","index","quantity","push","setItem","stringify","this","cartQuantityChange","handleChange","target","name","value","onClickForm","match","params","props","email","textarea","stars","state","objAvaliation","objDoLocalstorage","cartItems","cartQuantity","reduce","sum","bind","componentDidMount","oldCartQuantity","render","thumbnail","price","title","map","atribute","value_name","validateForm","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Navbar, NavbarBrand, Col, Row } from \"reactstrap\";\nimport CartButton from \"../components/CartButton\";\nimport PreviousReviews from \"../components/PreviousReviews\";\nimport magasin from \"../images/Magasin.png\";\nimport { getProductsID } from \"../services/api\";\n\nclass DetailedProduct extends React.Component {\n  constructor() {\n    super();\n    const cartItems = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n    this.state = {\n      productData: {},\n      arrayAttributes: [],\n      email: \"\",\n      textarea: \"\",\n      stars: 0,\n      listProductID: [],\n      cartQuantity: cartItems.reduce((sum, { quantity }) => sum + quantity, 0),\n    };\n\n    this.cartQuantityChange = this.cartQuantityChange.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params: { id },\n      },\n    } = this.props;\n    this.onSubmitSearch(id);\n    this.getProductAvaliation(id);\n  }\n\n  getProductAvaliation = (id) => {\n    const userAvaliationList = JSON.parse(\n      localStorage.getItem(\"userAvaliationList\")\n    );\n    const objProductID = userAvaliationList.find(\n      (avaliationObj) => avaliationObj.id === id\n    );\n    if (objProductID) {\n      this.setState({\n        listProductID: objProductID.avaliation,\n      });\n    }\n  };\n\n  onSubmitSearch = async (id) => {\n    const productData = await getProductsID(id);\n    this.setState({ productData, arrayAttributes: productData.attributes });\n  };\n\n  handleClick = (product) => {\n    const cart = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n    if (cart.some((cartItem) => cartItem.product.id === product.id)) {\n      cart.forEach((cartItem, index) => {\n        if (cartItem.product.id === product.id) {\n          cart[index].quantity += 1;\n        }\n      });\n    } else {\n      cart.push({ product, quantity: 1 });\n    }\n    localStorage.setItem( \"cartTrybe\", JSON.stringify( cart ) );\n    this.\n    this.cartQuantityChange();\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: [value] });\n  };\n\n  onClickForm = () => {\n    const {\n      match: {\n        params: { id },\n      },\n    } = this.props;\n    const { email, textarea, stars } = this.state;\n    const userAvaliationList = JSON.parse(\n      localStorage.getItem(\"userAvaliationList\")\n    );\n    const objAvaliation = { email, textarea, stars };\n    const objDoLocalstorage = { id, avaliation: [objAvaliation] };\n    if (!userAvaliationList) {\n      userAvaliationList.push(objDoLocalstorage);\n    } else if (userAvaliationList.some((avaliation) => avaliation.id === id)) {\n      userAvaliationList.forEach((avaliationObj, index) => {\n        if (avaliationObj.id === id) {\n          userAvaliationList[index].avaliation.push(objAvaliation);\n        }\n      });\n    } else {\n      userAvaliationList.push(objDoLocalstorage);\n    }\n    localStorage.setItem(\n      \"userAvaliationList\",\n      JSON.stringify(userAvaliationList)\n    );\n    this.getProductAvaliation(id);\n    this.setState({ email: \"\", textarea: \"\", stars: 0 });\n  };\n\n  cartQuantityChange() {\n    this.setState(({ cartQuantity: oldCartQuantity }) => ({\n      cartQuantity: oldCartQuantity + 1,\n    }));\n  }\n\n  render() {\n    const {\n      productData,\n      arrayAttributes,\n      email,\n      textarea,\n      listProductID,\n      cartQuantity,\n    } = this.state;\n    return (\n      <div>\n        <Navbar className=\"navbar\" color=\"white\" expand=\"md\" light>\n          <NavbarBrand className=\"brand\" href=\"/\">\n            <img src={magasin} alt=\"magasin-logo\" width=\"200\" />\n          </NavbarBrand>\n          <CartButton cartQuantity={cartQuantity} />\n        </Navbar>\n        <div class=\"jumbotron jumbotron-fluid\">\n          <div class=\"container\">\n            <h2 class=\"display-4\">Especificações Técnicas </h2>\n            <br/>\n            <Row>\n              <Col xs={ 6 } className=\"bg-info border\" sm=\"6\">\n              <div className=\"container1-detailedProduct\"> \n                <img src={productData.thumbnail} width=\"300\" alt={productData.id} />\n                <h2>\n                  R$:\n                  {productData.price}\n                </h2>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-dark\"\n                  onClick={() => this.handleClick(productData)}\n                  id={productData.id}\n                >\n                  Adicionar ao Carrinho\n                </button>\n              </div>\n              </Col>\n              <Col xs={6} className=\" border\" sm=\"6\">\n            <h3  className=\"justo\">{productData.title}</h3>\n            <div className=\"especificacoes\">\n              {arrayAttributes.map((atribute, index) => (\n                <div key={index}>\n                    <span className=\"bold\">{atribute.name}:</span><span>{atribute.value_name}</span>\n                </div>\n              ))}\n              </div>\n              </Col>\n              </Row>\n          </div>\n        </div>\n\n        \n        <form className=\"avaliation\">\n        <h3 className=\"justo\">Deixe sua Avaliação do Produto</h3>\n        <div class=\"form-group\">\n              <input\n                placeholder=\"Email\"\n                class=\"form-control\"\n                id=\"input1\"\n                value={email}\n                name=\"email\"\n                type=\"text\"\n                onChange={this.handleChange}\n              />\n             \n          </div>\n      \n          <div className=\" spaceBotton star-rating__stars\">\n            <label htmlFor=\"1-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={1}\n                data-testid=\"1-rating\"\n                id=\"1-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"2-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={2}\n                data-testid=\"2-rating\"\n                id=\"2-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"3-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={3}\n                data-testid=\"3-rating\"\n                id=\"3-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"4-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={4}\n                data-testid=\"4-rating\"\n                id=\"4-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"5-rating\" className=\"star-rating__label\">\n              <input\n                className=\"star-rating__input\"\n                type=\"radio\"\n                name=\"stars\"\n                value={5}\n                data-testid=\"5-rating\"\n                id=\"5-rating\"\n                onChange={this.handleChange}\n              />\n            </label>\n          </div>\n      \n          <div class=\"form-group\">\n          <textarea\n            placeholder=\"Mensagem (opcional)\"\n            class=\"form-control\"\n            name=\"textarea\"\n            value={textarea}\n            onChange={this.handleChange}\n            rows=\"3\"\n          />\n        </div>\n          <button\n            class=\"btn btn-info\"\n            type=\"button\"\n            disabled={this.validateForm}\n            onClick={this.onClickForm}\n          >\n            Avaliar\n          </button>\n        </form>\n        <br />\n        <hr/>\n        <PreviousReviews list={listProductID} />\n      </div>\n    );\n  }\n}\n\nDetailedProduct.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n};\n\nexport default DetailedProduct;\n"]},"metadata":{},"sourceType":"module"}