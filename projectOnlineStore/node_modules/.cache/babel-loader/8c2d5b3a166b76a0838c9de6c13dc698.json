{"ast":null,"code":"var _jsxFileName = \"/home/lorene/Trybe/MeusProjetosPessoais/store/src/pages/Cart.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CartProductListing from '../components/CartProductListing';\nimport { Navbar, NavbarBrand, Col, Row } from \"reactstrap\";\nimport magasin from \"../images/Magasin.png\";\n\nclass Cart extends Component {\n  constructor() {\n    super();\n\n    this.quantityChange = (product, counterChange) => {\n      const {\n        cartList\n      } = this.state;\n      const index = cartList.reduce((acc, curr, currIndex) => {\n        if (curr.product.id === product.id) {\n          return currIndex;\n        }\n\n        return acc;\n      }, '');\n\n      switch (counterChange) {\n        case 'increase':\n          cartList[index].quantity += 1;\n          break;\n\n        case 'decrease':\n          cartList[index].quantity -= 1;\n\n          if (cartList[index].quantity < 1) {\n            cartList.splice(index, 1);\n          }\n\n          break;\n\n        case 'remove':\n          cartList.splice(index, 1);\n          break;\n\n        default:\n      }\n\n      this.setState({\n        cartList\n      });\n    };\n\n    const cart = JSON.parse(localStorage.getItem('cartTrybe'));\n    this.state = {\n      cartList: cart\n    };\n  }\n\n  componentDidUpdate() {\n    const {\n      cartList\n    } = this.state;\n    localStorage.setItem('cartTrybe', JSON.stringify(cartList));\n  }\n\n  render() {\n    const {\n      cartList\n    } = this.state;\n    const empty = cartList.length === 0;\n    return /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      className: \"navbar\",\n      color: \"white\",\n      expand: \"md\",\n      light: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavbarBrand, {\n      className: \"brand\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: magasin,\n      alt: \"magasin-logo\",\n      width: \"200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"jumbotron jumbotron-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      class: \"display-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, \"Carrinho \"), empty ? /*#__PURE__*/React.createElement(\"h3\", {\n      \"data-testid\": \"shopping-cart-empty-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, \"Seu carrinho est\\xE1 vazio\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CartProductListing, {\n      cartList: cartList,\n      quantityChange: this.quantityChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/checkout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-dark button\",\n      type: \"button\",\n      \"data-testid\": \"checkout-products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, \"Finalizar compra\"))))));\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/home/lorene/Trybe/MeusProjetosPessoais/store/src/pages/Cart.js"],"names":["React","Component","Link","CartProductListing","Navbar","NavbarBrand","Col","Row","magasin","Cart","constructor","quantityChange","product","counterChange","cartList","state","index","reduce","acc","curr","currIndex","id","quantity","splice","setState","cart","JSON","parse","localStorage","getItem","componentDidUpdate","setItem","stringify","render","empty","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CartProductListing from '../components/CartProductListing';\nimport { Navbar, NavbarBrand, Col, Row } from \"reactstrap\";\nimport magasin from \"../images/Magasin.png\";\n\nclass Cart extends Component {\n  constructor() {\n    super();\n\n    const cart = JSON.parse(localStorage.getItem('cartTrybe'));\n    this.state = {\n      cartList: cart,\n    };\n  }\n\n  componentDidUpdate() {\n    const { cartList } = this.state;\n    localStorage.setItem('cartTrybe', JSON.stringify(cartList));\n  }\n\n  quantityChange = (product, counterChange) => {\n    const { cartList } = this.state;\n    const index = cartList.reduce((acc, curr, currIndex) => {\n      if (curr.product.id === product.id) { return currIndex; }\n      return acc;\n    }, '');\n    switch (counterChange) {\n    case 'increase':\n      cartList[index].quantity += 1;\n      break;\n    case 'decrease':\n      cartList[index].quantity -= 1;\n      if (cartList[index].quantity < 1) { cartList.splice(index, 1); }\n      break;\n    case 'remove':\n      cartList.splice(index, 1);\n      break;\n    default:\n    }\n    this.setState({\n      cartList,\n    });\n  }\n\n  render() {\n    const { cartList } = this.state;\n    const empty = cartList.length === 0;\n    return (\n      <main>\n        <Navbar className=\"navbar\" color=\"white\" expand=\"md\" light>\n          <NavbarBrand className=\"brand\" href=\"/\">\n            <img src={magasin} alt=\"magasin-logo\" width=\"200\" />\n          </NavbarBrand>\n        </Navbar>\n        <div class=\"jumbotron jumbotron-fluid\">\n        <div class=\"container\">\n          <h2 class=\"display-4\">Carrinho </h2>\n        {empty\n          ? (\n            <h3 data-testid=\"shopping-cart-empty-message\">\n              Seu carrinho est√° vazio\n            </h3>\n          )\n          : (\n            <>\n              <CartProductListing\n                cartList={ cartList }\n                quantityChange={ this.quantityChange }\n              />\n              <Link to=\"/checkout\">\n                <button\n                  class=\"btn btn-dark button\"\n                  type=\"button\"\n                  data-testid=\"checkout-products\"\n                >\n                  Finalizar compra\n                </button>\n              </Link>\n            </>\n              ) }\n            </div>\n          </div>\n      </main>\n    );\n  }\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}