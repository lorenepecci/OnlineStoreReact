{"ast":null,"code":"var _jsxFileName = \"/home/lorene/Trybe/MeusProjetosPessoais/store/src/pages/Home.js\";\nimport React from \"react\";\nimport { BsSearch } from \"react-icons/bs\";\nimport { Col, Container, Row, Navbar, NavbarBrand } from \"reactstrap\";\nimport CartButton from \"../components/CartButton\";\nimport Categories from \"../components/Categories\";\nimport ProductCard from \"../components/ProductCard\";\nimport { getCategories, getProductsFromCategoryAndQuery } from \"../services/api\";\nimport { magasin } from '../images/LP maga';\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n\n    this.onChangeInput = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        value\n      } = target;\n      this.setState({\n        nomeProdutoPesquisado: value\n      });\n    };\n\n    this.onSubmitSearch = async () => {\n      const {\n        selectedCategory,\n        nomeProdutoPesquisado\n      } = this.state;\n      const listaProduto = await getProductsFromCategoryAndQuery(selectedCategory, nomeProdutoPesquisado);\n      this.setState({\n        listaProdutos: listaProduto.results\n      });\n    };\n\n    const cartItems = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n    this.state = {\n      categoriesList: [],\n      selectedCategory: \"\",\n      loadingCategory: true,\n      nomeProdutoPesquisado: \"\",\n      listaProdutos: [],\n      cartQuantity: cartItems.reduce((sum, _ref2) => {\n        let {\n          quantity\n        } = _ref2;\n        return sum + quantity;\n      }, 0)\n    };\n    this.onCategoryChange = this.onCategoryChange.bind(this);\n    this.cartQuantityChange = this.cartQuantityChange.bind(this);\n  }\n\n  async componentDidMount() {\n    const categories = await getCategories();\n    this.setState({\n      categoriesList: categories,\n      loadingCategory: false\n    });\n  }\n\n  onCategoryChange(event) {\n    const {\n      nomeProdutoPesquisado\n    } = this.state;\n    const {\n      value\n    } = event.target;\n    this.setState({\n      selectedCategory: value\n    }, async () => {\n      const listaProduto = await getProductsFromCategoryAndQuery(value, nomeProdutoPesquisado);\n      this.setState({\n        listaProdutos: listaProduto.results\n      });\n    });\n  }\n\n  cartQuantityChange() {\n    this.setState(_ref3 => {\n      let {\n        cartQuantity: oldCartQuantity\n      } = _ref3;\n      return {\n        cartQuantity: oldCartQuantity + 1\n      };\n    });\n  }\n\n  render() {\n    const {\n      nomeProdutoPesquisado,\n      listaProdutos,\n      cartQuantity,\n      categoriesList,\n      loadingCategory,\n      selectedCategory\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      className: \"navbar\",\n      color: \"light\",\n      expand: \"md\",\n      light: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavbarBrand, {\n      className: \"brand\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, magasin), /*#__PURE__*/React.createElement(CartButton, {\n      cartQuantity: cartQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group mb-3 centralizar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-outline-info\",\n      type: \"button\",\n      onClick: this.onSubmitSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BsSearch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 47\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: nomeProdutoPesquisado,\n      id: \"pesquisa\",\n      onChange: this.onChangeInput,\n      placeholder: \"Pesquise por categorias ou produtos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      className: \"bg-light border\",\n      fluid: \"xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 5,\n      className: \"bg-info border\",\n      sm: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, \"Categorias\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }), loadingCategory ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, \"Carregando...\") : /*#__PURE__*/React.createElement(Categories, {\n      categoriesList: categoriesList,\n      onChange: this.onCategoryChange,\n      selected: selectedCategory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      xs: 5,\n      className: \"bg-light border\",\n      sm: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, !listaProdutos.length ? /*#__PURE__*/React.createElement(\"h3\", {\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\") : /*#__PURE__*/React.createElement(ProductCard, {\n      listaProdutos: listaProdutos,\n      cartQuantityChange: this.cartQuantityChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/lorene/Trybe/MeusProjetosPessoais/store/src/pages/Home.js"],"names":["React","BsSearch","Col","Container","Row","Navbar","NavbarBrand","CartButton","Categories","ProductCard","getCategories","getProductsFromCategoryAndQuery","magasin","Home","Component","constructor","onChangeInput","target","value","setState","nomeProdutoPesquisado","onSubmitSearch","selectedCategory","state","listaProduto","listaProdutos","results","cartItems","JSON","parse","localStorage","getItem","categoriesList","loadingCategory","cartQuantity","reduce","sum","quantity","onCategoryChange","bind","cartQuantityChange","componentDidMount","categories","event","oldCartQuantity","render","length"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BsSearch } from \"react-icons/bs\";\nimport { Col, Container, Row, Navbar, NavbarBrand } from \"reactstrap\";\nimport CartButton from \"../components/CartButton\";\nimport Categories from \"../components/Categories\";\nimport ProductCard from \"../components/ProductCard\";\nimport {\n  getCategories,\n  getProductsFromCategoryAndQuery\n} from \"../services/api\";\nimport {magasin } from '../images/LP maga'\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n    const cartItems = JSON.parse(localStorage.getItem(\"cartTrybe\"));\n    this.state = {\n      categoriesList: [],\n      selectedCategory: \"\",\n      loadingCategory: true,\n      nomeProdutoPesquisado: \"\",\n      listaProdutos: [],\n      cartQuantity: cartItems.reduce((sum, { quantity }) => sum + quantity, 0),\n    };\n\n    this.onCategoryChange = this.onCategoryChange.bind(this);\n    this.cartQuantityChange = this.cartQuantityChange.bind(this);\n  }\n\n  async componentDidMount() {\n    const categories = await getCategories();\n    this.setState({\n      categoriesList: categories,\n      loadingCategory: false,\n    });\n  }\n\n  onChangeInput = ({ target }) => {\n    const { value } = target;\n    this.setState({\n      nomeProdutoPesquisado: value,\n    });\n  };\n\n  onCategoryChange(event) {\n    const { nomeProdutoPesquisado } = this.state;\n    const { value } = event.target;\n    this.setState(\n      {\n        selectedCategory: value,\n      },\n      async () => {\n        const listaProduto = await getProductsFromCategoryAndQuery(\n          value,\n          nomeProdutoPesquisado\n        );\n        this.setState({\n          listaProdutos: listaProduto.results,\n        });\n      }\n    );\n  }\n\n  onSubmitSearch = async () => {\n    const { selectedCategory, nomeProdutoPesquisado } = this.state;\n    const listaProduto = await getProductsFromCategoryAndQuery(\n      selectedCategory,\n      nomeProdutoPesquisado\n    );\n    this.setState({\n      listaProdutos: listaProduto.results,\n    });\n  };\n\n  cartQuantityChange() {\n    this.setState(({ cartQuantity: oldCartQuantity }) => ({\n      cartQuantity: oldCartQuantity + 1,\n    }));\n  }\n\n  render() {\n    const {\n      nomeProdutoPesquisado,\n      listaProdutos,\n      cartQuantity,\n      categoriesList,\n      loadingCategory,\n      selectedCategory,\n    } = this.state;\n    return (\n      <main>\n        <Navbar\n          className=\"navbar\"\n          color=\"light\"\n          expand=\"md\"\n          light\n        >\n          <NavbarBrand className=\"brand\" href=\"/\">\n            {magasin}\n          </NavbarBrand>\n          <CartButton cartQuantity={ cartQuantity } />\n        </Navbar>\n      <div class=\"input-group mb-3 centralizar\">\n        <div class=\"input-group-prepend\">\n            <button\n              class=\"btn btn-outline-info\"\n              type=\"button\"\n              onClick={ this.onSubmitSearch }><BsSearch/>\n            </button>\n        </div>\n          <input\n            type=\"text\" class=\"form-control\"\n            value={ nomeProdutoPesquisado }\n            id=\"pesquisa\"\n            onChange={this.onChangeInput}\n            placeholder=\"Pesquise por categorias ou produtos\"\n          />\n      </div>\n      <br />\n\n        <Container className=\"bg-light border\" fluid=\"xl\">\n          <Row>\n            <Col xs={5} className=\"bg-info border\" sm=\"3\">\n              <br />\n              <h5>Categorias</h5>\n              <br />\n              {loadingCategory ? (\n                <p>Carregando...</p>\n              ) : (\n                <Categories\n                  categoriesList={categoriesList}\n                  onChange={this.onCategoryChange}\n                  selected={selectedCategory}\n                />\n              )}\n            </Col>\n            <Col xs={5} className=\"bg-light border\" sm=\"9\">\n              {!listaProdutos.length ? (\n                <h3 data-testid=\"home-initial-message\">\n                  Digite algum termo de pesquisa ou escolha uma categoria.\n                </h3>\n              ) : (\n                <ProductCard\n                  listaProdutos={listaProdutos}\n                  cartQuantityChange={this.cartQuantityChange}\n                />\n              )}\n            </Col>\n          </Row>\n        </Container>\n      </main>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}